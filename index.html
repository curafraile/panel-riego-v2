<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Panel de Riego</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2em; background: #f0f0f0; }
    h1 { color: #2c3e50; }
    .dato { font-size: 2em; margin: 1em 0; }
    button { padding: 1em 2em; font-size: 1em; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #219150; }
  </style>
</head>
<body>
  <h1>ðŸŒ± Panel de Riego</h1>
  <div class="dato">Humedad actual: <span id="humedad">--</span>%</div>
  <button onclick="activarRiego()">Activar riego</button>

  <script>
   const firebaseConfig = {
  apiKey: "AIzaSyAzXHzQBJHt60kQ14X4a7OZ3fJVdoHGBk8",
  authDomain: "riego-hibrido.firebaseapp.com",
  databaseURL: "https://riego-hibrido-default-rtdb.firebaseio.com",
  projectId: "riego-hibrido",
  storageBucket: "riego-hibrido.firebasestorage.app",
  messagingSenderId: "283637108482",
  appId: "1:283637108482:web:7acc8ccb8b188087cd7c1b"
};



    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    db.ref("sensor/humedad").on("value", snapshot => {
      const valor = snapshot.val();
      document.getElementById("humedad").textContent = valor ?? "--";
    });

    function activarRiego() {
      db.ref("actuador/riego").set("ON");
      alert("ðŸ’§ Riego activado");
    }
  </script>
</body>
</html>
